<section layout="row" flex>
  <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-sm')">
    <md-content layout="column" layout-padding ng-controller="SideCtrl">
      <p flex>
        Please select the table you want to edit
      </p>
      <md-input-container flex>
        <label>Library</label>
        <md-select ng-model="sideData.library">
          <md-option ng-repeat="lib in libs" value="{{lib}}">
            {{lib}}
          </md-option>
        </md-select>
      </md-input-container>
      <md-input-container flex>
        <label>Table</label>
        <md-select ng-model="sideData.table">
          <md-option ng-repeat="table in tables" value="{{table}}">
            {{table}}
          </md-option>
        </md-select>
      </md-input-container>
      <div layout="column" class="table-info">
        <md-input-container flex>
          <label>Description</label>
          <input value="{{tableInfo.DESCRIPTION}}" readonly="true">
        </md-input-container>
        <md-input-container flex>
          <label>Created</label>
          <input value="{{tableInfo.DT_CREATED | date:'medium'}}" readonly="true">
        </md-input-container>
        <div layout="row">
          <md-input-container flex="50">
            <label>Nobs</label>
            <input value="{{tableInfo.NOBS}}" readonly="true">
          </md-input-container>
          <md-input-container flex="50">
            <label>Nvar</label>
            <input value="{{tableInfo.NVAR}}" readonly="true">
          </md-input-container>
        </div>
      </div>
      <div flex layout="row">
        <md-button flex="50" ng-disabled="!sideData.library || !sideData.table || loading" class="md-raised md-primary" ng-click="open()">Open</md-button>
        <md-button flex="50" ng-disabled="!tableDataChanged || loading" class="md-raised md-primary" ng-click="save()">Save</md-button>
      </div>
      <div flex layout="row">
        <md-button flex="50" ng-disabled="!sideData.library || !sideData.table || loading" class="md-raised md-warn" ng-click="delete()">Delete</md-button>
        <md-button flex="50" ng-disabled="!htData || loading" class="md-raised md-primary" ng-click="saveAs()">Save As</md-button>
      </div>
    </md-content>
  </md-sidenav>
  <div flow-file-added="console.log('test')" layout-margin layout="row" flex layout-align="center" flow-drop flow-drag-enter="style={border:'2px dashed #7e97bb', position: 'relative'}; fileOver=true" flow-drag-leave="style={}; fileOver=false" ng-style="style">
    <span class="center" ng-show="fileOver">Drop your file here</span>
    <md-content ng-show="!fileOver" layout="row">
      <ht-dynamic spec="htDynamicSpec" data="htData" error-handler="onHandsontableError" on-data-change="onHandsontableDataEdit"></ht-dynamic>
    </md-content>
  </div>
</section>
